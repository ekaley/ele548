CC=c++
FLAGS=-std=gnu++11

CXX := g++
CXXFLAGS := -Wall -g
CXX_RISCV := riscv64-unknown-elf-g++
OUT_DIR := out


INCS=-I./headers
SRC=./cpp
OBJ=./obj
EXE=./exe

SRC_FILES := $(shell find . -maxdepth 3 -name "*.cpp")
# objects  := $(patsubst %.cpp, %.o, $(srcfiles))
OBJ_FILES := $(notdir $(patsubst %.cpp, %.o, $(SRC_FILES)))

${OBJ}/${OBJ_FILES}: ${SRC}/class.cpp
	${CXX} ${CXXFLAGS} ${INCS} -c $< -o $@

${OBJ}/driver.o: ${SRC}/driver.cpp ${SRC}/class.cpp
	${CXX} ${CXXFLAGS} ${INCS} -c $< -o $@

driver: ${OBJ}/driver.o ${OBJ}/class.o
	${CXX} ${CXXFLAGS} ${OBJ}/driver.o ${OBJ}/class.o -o ${EXE}/driver